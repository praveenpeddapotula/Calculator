pipeline {
    agent any 
    tools {
        jdk 'JDK17'
        maven 'maven3'
    }
        stages {
            stage ('checkout') {
                steps {
                    echo "source code is here only"
                }
            }
            stage ('build') {
                steps {
                    echo "building artifacts using maven tool"
                     withEnv(["JAVA_TOOL_OPTIONS=-Djava.awt.headless=true"]) {
                        sh 'mvn test -DskipITs'
                         sh 'mvn clean package'
                     }
                }
            }
        }
}